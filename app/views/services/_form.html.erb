<%= form_with(model: service, local: true) do |f| %>
  <% if service.errors.any? %>
    <div class="alert alert-danger">
      <h4><%= pluralize(service.errors.count, 'erro') %> impediram este serviço de ser salvo:</h4>
      <ul>
        <% service.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="card mb-3">
    <div class="card-header">
      <h4 class="card-title mb-0"><i class="fas fa-edit"></i> <%= service.new_record? ? 'Novo Serviço' : 'Editar Serviço' %></h4>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-4">
          <div class="form-group">
            <%= f.label :code, 'Código' %><span class="text-danger">*</span>
            <%= f.text_field :code, class: 'form-control', required: true %>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group">
            <%= f.label :description, 'Descrição' %><span class="text-danger">*</span>
            <%= f.text_field :description, class: 'form-control', required: true %>
          </div>
        </div>
        <div class="col-md-2">
          <div class="form-group">
            <%= f.label :status, 'Ativo' %>
            <%= f.select :status, [['Sim', 'active'], ['Não', 'inactive']], {}, class: 'form-control' %>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <%= f.label :unit, 'Unidade' %>
            <%= f.text_field :unit, class: 'form-control', placeholder: 'Selecione' %>
          </div>
        </div>
        <div class="col-md-3">
          <div class="form-group">
            <%= f.label :price, 'Valor do Serviço' %>
            <div class="input-group">
              <%= f.number_field :price, class: 'form-control', step: '0.01', min: '0', value: service.price || 0 %>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <%= f.label :nfs_description, 'Discriminação padrão (NFS-e)' %>
        <%= f.text_area :nfs_description, class: 'form-control', rows: 3 %>
      </div>
    </div>
    <div class="card-footer text-end">
      <%= f.submit 'Salvar', class: 'btn btn-primary btn-sm' %>
      <%= link_to 'Voltar', services_path, class: 'btn btn-secondary btn-sm' %>
    </div>
  </div>
<% end %> 