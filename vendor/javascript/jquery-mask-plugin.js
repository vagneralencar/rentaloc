// jquery-mask-plugin@1.14.16 downloaded from https://ga.jspm.io/npm:jquery-mask-plugin@1.14.16/dist/jquery.mask.js

import t from"jquery";var a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var e={};(function(a,n,s){"undefined"===typeof Meteor?e=a(t):a(n||s)})((function(t){var Mask=function(e,n,s){var r={invalid:[],getCaret:function(){try{var t,a=0,n=e.get(0),s=document.selection,i=n.selectionStart;if(s&&-1===navigator.appVersion.indexOf("MSIE 10")){t=s.createRange();t.moveStart("character",-r.val().length);a=t.text.length}else(i||"0"===i)&&(a=i);return a}catch(t){}},setCaret:function(t){try{if(e.is(":focus")){var a,n=e.get(0);if(n.setSelectionRange)n.setSelectionRange(t,t);else{a=n.createTextRange();a.collapse(true);a.moveEnd("character",t);a.moveStart("character",t);a.select()}}}catch(t){}},events:function(){e.on("keydown.mask",(function(t){e.data("mask-keycode",t.keyCode||t.which);e.data("mask-previus-value",e.val());e.data("mask-previus-caret-pos",r.getCaret());r.maskDigitPosMapOld=r.maskDigitPosMap})).on(t.jMaskGlobals.useInput?"input.mask":"keyup.mask",r.behaviour).on("paste.mask drop.mask",(function(){setTimeout((function(){e.keydown().keyup()}),100)})).on("change.mask",(function(){e.data("changed",true)})).on("blur.mask",(function(){o===r.val()||e.data("changed")||e.trigger("change");e.data("changed",false)})).on("blur.mask",(function(){o=r.val()})).on("focus.mask",(function(a){true===s.selectOnFocus&&t(a.target).select()})).on("focusout.mask",(function(){s.clearIfNotMatch&&!l.test(r.val())&&r.val("")}))},getRegexMask:function(){var t=[],a,e,s,r,o,l;for(var c=0;c<n.length;c++){a=i.translation[n.charAt(c)];if(a){e=a.pattern.toString().replace(/.{1}$|^.{1}/g,"");s=a.optional;r=a.recursive;if(r){t.push(n.charAt(c));o={digit:n.charAt(c),pattern:e}}else t.push(s||r?e+"?":e)}else t.push(n.charAt(c).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))}l=t.join("");o&&(l=l.replace(new RegExp("("+o.digit+"(.*"+o.digit+")?)"),"($1)?").replace(new RegExp(o.digit,"g"),o.pattern));return new RegExp(l)},destroyEvents:function(){e.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(t){var a=e.is("input"),n=a?"val":"text",s;if(arguments.length>0){e[n]()!==t&&e[n](t);s=e}else s=e[n]();return s},calculateCaretPosition:function(t){var a=r.getMasked(),n=r.getCaret();if(t!==a){var s=e.data("mask-previus-caret-pos")||0,i=a.length,o=t.length,l=0,c=0,u=0,f=0,k=0;for(k=n;k<i;k++){if(!r.maskDigitPosMap[k])break;c++}for(k=n-1;k>=0;k--){if(!r.maskDigitPosMap[k])break;l++}for(k=n-1;k>=0;k--)r.maskDigitPosMap[k]&&u++;for(k=s-1;k>=0;k--)r.maskDigitPosMapOld[k]&&f++;if(n>o)n=10*i;else if(s>=n&&s!==o){if(!r.maskDigitPosMapOld[n]){var v=n;n-=f-u;n-=l;r.maskDigitPosMap[n]&&(n=v)}}else if(n>s){n+=u-f;n+=c}}return n},behaviour:function(a){a=a||window.event;r.invalid=[];var n=e.data("mask-keycode");if(-1===t.inArray(n,i.byPassKeys)){var s=r.getMasked(),o=r.getCaret(),l=e.data("mask-previus-value")||"";setTimeout((function(){r.setCaret(r.calculateCaretPosition(l))}),t.jMaskGlobals.keyStrokeCompensation);r.val(s);r.setCaret(o);return r.callbacks(a)}},getMasked:function(t,a){var e=[],o=void 0===a?r.val():a+"",l=0,c=n.length,u=0,f=o.length,k=1,v="push",h=-1,p=0,d=[],g,m;if(s.reverse){v="unshift";k=-1;g=0;l=c-1;u=f-1;m=function(){return l>-1&&u>-1}}else{g=c-1;m=function(){return l<c&&u<f}}var M;while(m()){var y=n.charAt(l),b=o.charAt(u),w=i.translation[y];if(w){if(b.match(w.pattern)){e[v](b);if(w.recursive){-1===h?h=l:l===g&&l!==h&&(l=h-k);g===h&&(l-=k)}l+=k}else if(b===M){p--;M=void 0}else if(w.optional){l+=k;u-=k}else if(w.fallback){e[v](w.fallback);l+=k;u-=k}else r.invalid.push({p:u,v:b,e:w.pattern});u+=k}else{t||e[v](y);if(b===y){d.push(u);u+=k}else{M=y;d.push(u+p);p++}l+=k}}var C=n.charAt(g);c!==f+1||i.translation[C]||e.push(C);var j=e.join("");r.mapMaskdigitPositions(j,d,f);return j},mapMaskdigitPositions:function(t,a,e){var n=s.reverse?t.length-e:0;r.maskDigitPosMap={};for(var i=0;i<a.length;i++)r.maskDigitPosMap[a[i]+n]=1},callbacks:function(t){var i=r.val(),l=i!==o,c=[i,t,e,s],callback=function(t,e,n){"function"===typeof s[t]&&e&&s[t].apply(this||a,n)};callback("onChange",true===l,c);callback("onKeyPress",true===l,c);callback("onComplete",i.length===n.length,c);callback("onInvalid",r.invalid.length>0,[i,t,e,r.invalid,s])}};e=t(e);var i=this||a,o=r.val(),l;n="function"===typeof n?n(r.val(),void 0,e,s):n;i.mask=n;i.options=s;i.remove=function(){var t=r.getCaret();i.options.placeholder&&e.removeAttr("placeholder");e.data("mask-maxlength")&&e.removeAttr("maxlength");r.destroyEvents();r.val(i.getCleanVal());r.setCaret(t);return e};i.getCleanVal=function(){return r.getMasked(true)};i.getMaskedVal=function(t){return r.getMasked(false,t)};i.init=function(a){a=a||false;s=s||{};i.clearIfNotMatch=t.jMaskGlobals.clearIfNotMatch;i.byPassKeys=t.jMaskGlobals.byPassKeys;i.translation=t.extend({},t.jMaskGlobals.translation,s.translation);i=t.extend(true,{},i,s);l=r.getRegexMask();if(a){r.events();r.val(r.getMasked())}else{s.placeholder&&e.attr("placeholder",s.placeholder);e.data("mask")&&e.attr("autocomplete","off");for(var o=0,c=true;o<n.length;o++){var u=i.translation[n.charAt(o)];if(u&&u.recursive){c=false;break}}c&&e.attr("maxlength",n.length).data("mask-maxlength",true);r.destroyEvents();r.events();var f=r.getCaret();r.val(r.getMasked());r.setCaret(f)}};i.init(!e.is("input"))};t.maskWatchers={};var HTMLAttributes=function(){var e=t(this||a),n={},s="data-mask-",r=e.attr("data-mask");e.attr(s+"reverse")&&(n.reverse=true);e.attr(s+"clearifnotmatch")&&(n.clearIfNotMatch=true);"true"===e.attr(s+"selectonfocus")&&(n.selectOnFocus=true);if(notSameMaskObject(e,r,n))return e.data("mask",new Mask(this||a,r,n))},notSameMaskObject=function(a,e,n){n=n||{};var s=t(a).data("mask"),r=JSON.stringify,i=t(a).val()||t(a).text();try{"function"===typeof e&&(e=e(i));return"object"!==typeof s||r(s.options)!==r(n)||s.mask!==e}catch(t){}},eventSupported=function(t){var a=document.createElement("div"),e;t="on"+t;e=t in a;if(!e){a.setAttribute(t,"return;");e="function"===typeof a[t]}a=null;return e};t.fn.mask=function(e,n){n=n||{};var s=(this||a).selector,r=t.jMaskGlobals,i=r.watchInterval,o=n.watchInputs||r.watchInputs,maskFunction=function(){if(notSameMaskObject(this||a,e,n))return t(this||a).data("mask",new Mask(this||a,e,n))};t(this||a).each(maskFunction);if(s&&""!==s&&o){clearInterval(t.maskWatchers[s]);t.maskWatchers[s]=setInterval((function(){t(document).find(s).each(maskFunction)}),i)}return this||a};t.fn.masked=function(t){return this.data("mask").getMaskedVal(t)};t.fn.unmask=function(){clearInterval(t.maskWatchers[(this||a).selector]);delete t.maskWatchers[(this||a).selector];return this.each((function(){var e=t(this||a).data("mask");e&&e.remove().removeData("mask")}))};t.fn.cleanVal=function(){return this.data("mask").getCleanVal()};t.applyDataMask=function(a){a=a||t.jMaskGlobals.maskElements;var e=a instanceof t?a:t(a);e.filter(t.jMaskGlobals.dataMaskAttr).each(HTMLAttributes)};var e={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:true,watchInterval:300,watchInputs:true,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&eventSupported("input"),watchDataMask:false,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:true},"#":{pattern:/\d/,recursive:true},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};t.jMaskGlobals=t.jMaskGlobals||{};e=t.jMaskGlobals=t.extend(true,{},e,t.jMaskGlobals);e.dataMask&&t.applyDataMask();setInterval((function(){t.jMaskGlobals.watchDataMask&&t.applyDataMask()}),e.watchInterval)}),window.jQuery,window.Zepto);var n=e;export default n;

